//src/prisma/schema/borrow.prisma
model Borrow {
  id        String   @id @default(uuid())
  memberId  String
  member    Member   @relation(fields: [memberId], references: [id])

  status    BorrowStatus @default(BORROWED)

  borrowedAt  DateTime      @default(now())
  dueDate     DateTime
  returnedAt  DateTime?
  fine        Int           @default(0)

  items     BorrowItem[]

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model BorrowItem {
  id        String @id @default(uuid())
  borrowId  String
  bookId    String
  qty       Int

  borrow    Borrow @relation(fields: [borrowId], references: [id])
  book      Book   @relation(fields: [bookId], references: [id])
}

enum BorrowStatus {
  BORROWED
  RETURNED
}
